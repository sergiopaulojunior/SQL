STORE PROCEDURES E TRIGGERS 

CREATE PROCEDURE nome

CALL nome
EXECUTE nome

DROP  PROCEDURE nome

TRIGGER - gatilho que dispara codigos(ex horarios programados, determinados registros forem alterados)
auto iniciados

TIPOS:
BEFORE INSERT
BEFORE UPDATE
BEFORE DELETE 

AFTER INSERT
AFTER UPDATE
AFTER DELETE

CRIANDO TRIGGER:
CREATE TRIGGER nome tipo ON tabela

LADO ESQUERDO 'CREATE PROCEDURE' BOTAO DIREITO

CREATE DEFINER= limpa_pedidos()

BEGIN
	SET SQL_SAFE_UPDATES = 0;  
	DELETE FROM pedidos WHERE pago = 'NÃ£o';  
	SET SQL_SAFE_UPDATES = 1;
END

-- CHAMA STORED PROCEDURES
CALL 
limpa_pedidos();


-- CRIA TRIGGER
CREATE TRIGGER 
gatilho_limpa_pedidos

BEFORE INSERT

ON estoque

FOR EACH ROW

CALL limpa_pedidos();
